{
  "AutoScalingGroupName": "%ASG_NAME%",
  "MixedInstancesPolicy": {
    "LaunchTemplate": {
      "LaunchTemplateSpecification": {
        "LaunchTemplateName": "EcsSpotWorkshop",
        "Version": "1"
      },
      "Overrides": [
        {
          "InstanceType": "m4.large"
        },
        {
          "InstanceType": "m5.large"
        },
        {
          "InstanceType": "m5a.large"
        },
        {
          "InstanceType": "m4.xlarge"
        },
        {
          "InstanceType": "m5.xlarge"
        },
        {
          "InstanceType": "m5a.xlarge"
        }
      ]
    },
    "InstancesDistribution": {
      "OnDemandAllocationStrategy": "prioritized",
      "OnDemandBaseCapacity": 0,
      "OnDemandPercentageAboveBaseCapacity": %OD_PERCENTAGE%,
      "SpotAllocationStrategy": "capacity-optimized"
    }
  },
  "MinSize": 0,
  "MaxSize": 20,
  "DesiredCapacity": 0,
  "DefaultCooldown": 300,
  "HealthCheckGracePeriod": 300,
  "HealthCheckType": "EC2",
  "VPCZoneIdentifier": "%PUBLIC_SUBNET_LIST%",
  "TerminationPolicies": [
    "DEFAULT"
  ],
  "NewInstancesProtectedFromScaleIn": true
}
